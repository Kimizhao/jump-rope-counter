# 1Panel 部署指南

这里有两种在 1Panel 上部署本应用的方法。推荐使用 **方法一（静态网站）**，因为它性能更好且配置简单。

## 方法一：静态网站部署 (推荐)

这种方法直接使用 1Panel 的 OpenResty (Nginx) 服务来托管构建好的静态文件。

### 1. 准备文件
确保你已经运行了构建命令，并有了 `dist` 目录：
```bash
npm run build
```
你需要上传 `dist` 目录下的**所有内容**（index.html, assets 文件夹等）。

### 2. 1Panel 操作步骤
1.  登录 1Panel 面板。
2.  进入 **网站 (Websites)** 菜单。
3.  点击 **创建网站 (Create Website)**。
4.  **配置**：
    *   **运行环境**: 选择 `静态网站` (Static) 或 `OpenResty`。
    *   **主域名**: 输入你的域名 (例如 `jump.example.com`)。如果没有域名，可以用 `IP:端口`。
    *   **代号/目录**: 自定义，例如 `jump-rope`。
5.  点击 **确认** 创建。

### 3. 上传文件
1.  在网站列表中，点击你刚创建的网站的 **根目录** 链接。
2.  进入文件管理界面，**删除** 默认生成的 `index.html`。
3.  点击 **上传**，将本地 `dist` 文件夹内的**所有文件**上传到这个目录。
    *   结构应该是：网站根目录下直接有 `index.html` 和 `assets` 文件夹。

### 4. 开启 HTTPS (重要)
由于浏览器限制，调用摄像头**必须**使用 HTTPS (除非你是通过 `localhost` 或 `127.0.0.1` 访问)。
1.  在网站设置中，点击 **HTTPS**。
2.  启用 HTTPS，并申请/上传你的 SSL 证书（1Panel 支持一键申请 Let's Encrypt 证书）。

---

## 方法二：Docker 部署

如果你更喜欢使用 Docker 容器隔离环境。

### 1. 准备镜像
你可以选择在本地构建镜像并上传，或者直接在服务器上构建。这里假设你在服务器上构建。

1.  将整个项目代码上传到服务器的一个目录（例如 `/opt/1panel/apps/jump-rope`）。
2.  确保目录里有 `Dockerfile`。

### 2. 1Panel 操作步骤
1.  进入 **容器 (Containers)** > **镜像 (Images)**。
2.  点击 **构建镜像 (Build Image)**。
    *   **名称**: `jump-rope-counter`
    *   **Dockerfile**: 选择你上传代码的目录。
    *   点击确认构建。

### 3. 创建容器
1.  进入 **容器 (Containers)** > **容器 (Containers)**。
2.  点击 **创建容器 (Create Container)**。
    *   **名称**: `jump-rope-app`
    *   **镜像**: 选择刚才构建的 `jump-rope-counter`。
    *   **端口**: 添加映射，例如 `8080:80` (主机端口:容器端口)。
    *   **网络**: 选择 `1panel-network` (如果需要反向代理)。
3.  点击确认启动。

### 4. 配置反向代理 (HTTPS)
为了支持 HTTPS，你仍然需要通过 OpenResty 进行反向代理。
1.  进入 **网站 (Websites)** > **创建网站**。
2.  **运行环境**: 选择 `反向代理` (Reverse Proxy)。
3.  **代理地址**: `http://127.0.0.1:8080` (如果你刚才映射的是 8080)。
4.  创建后，同样去 **HTTPS** 选项卡开启 SSL 证书。
